import pymc3 as pm
import numpy as np

class BayesianModel:
    """
    Bayesian inference for univariate series
    """
    def __init__(self):
        self.model = None
        self.trace = None

    def fit(self, data):
        with pm.Model() as model:
            mu = pm.Normal("mu", mu=0, sigma=0.05)
            sigma = pm.HalfNormal("sigma", sigma=0.05)
            obs = pm.Normal("obs", mu=mu, sigma=sigma, observed=data)
            self.trace = pm.sample(1000, tune=500, cores=1, return_inferencedata=True)
        self.model = model
        return self.trace

    def summary(self):
        import arviz as az
        return az.summary(self.trace)
